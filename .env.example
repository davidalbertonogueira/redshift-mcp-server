# ====================
# REQUIRED CONFIGURATION
# ====================

# Redshift database connection string
DATABASE_URL="redshift://username:password@hostname:5439/database?ssl=true"

# ====================
# TRANSPORT CONFIGURATION
# ====================

# Transport mode: "stdio" (for local IDE) or "http" (for web/K8s)
# Default: stdio
TRANSPORT_MODE="stdio"

# ====================
# HTTP TRANSPORT OPTIONS
# (Only used when TRANSPORT_MODE=http)
# ====================

# HTTP server port
# Default: 3000
PORT="3000"

# Enable stateless mode (recommended for Kubernetes/horizontal scaling)
# Default: false (stateful mode with sessions)
STATELESS_MODE="false"

# Enable event resumability (allows reconnection after network issues)
# Only works in stateful mode
# Default: false
ENABLE_RESUMABILITY="false"

# ====================
# SECURITY OPTIONS
# (Recommended for production deployments)
# ====================

# Enable authentication (requires API_TOKEN)
# Default: false
ENABLE_AUTH="false"

# Bearer token for API authentication
# Required if ENABLE_AUTH=true
API_TOKEN="your-secret-token-here"

# Allowed CORS origins (comma-separated)
# Default: * (all origins)
ALLOWED_ORIGINS="https://dust.tt,https://your-domain.com"

# Redact PII (email/phone fields) in sample data
# Default: false
REDACT_PII="false"

# ====================
# EXAMPLE CONFIGURATIONS
# ====================

# === Local Development (STDIO) ===
# TRANSPORT_MODE="stdio"
# DATABASE_URL="redshift://..."

# === Local Development (HTTP) ===
# TRANSPORT_MODE="http"
# PORT="3000"
# STATELESS_MODE="false"
# ENABLE_RESUMABILITY="true"
# DATABASE_URL="redshift://..."

# === Kubernetes Production (Stateless + Auth) ===
# TRANSPORT_MODE="http"
# PORT="3000"
# STATELESS_MODE="true"
# ENABLE_AUTH="true"
# API_TOKEN="super-secret-token"
# ALLOWED_ORIGINS="https://dust.tt"
# DATABASE_URL="redshift://..."

# === Kubernetes Production (Stateful + Auth) ===
# TRANSPORT_MODE="http"
# PORT="3000"
# STATELESS_MODE="false"
# ENABLE_RESUMABILITY="true"
# ENABLE_AUTH="true"
# API_TOKEN="super-secret-token"
# ALLOWED_ORIGINS="https://dust.tt"
# DATABASE_URL="redshift://..."
